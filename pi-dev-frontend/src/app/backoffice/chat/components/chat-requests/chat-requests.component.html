<div class="chat-requests">
  <h3 class="requests-title">Chat Requests</h3>
  
  <div class="requests-list">
    <div class="no-requests" *ngIf="requests.length === 0">
      <p>No pending requests</p>
    </div>
    
    <!-- Pending Requests Section -->
    <div class="pending-section" *ngIf="getPendingRequests().length > 0">
      <div class="section-label">
        <span class="pending-badge">{{ getPendingRequests().length }}</span>
        <h4>Pending Requests</h4>
      </div>
      
      <div class="request-item pending" *ngFor="let request of getPendingRequests()">
        <div class="user-avatar">
          <img *ngIf="request.senderProfileImage" [src]="request.senderProfileImage" alt="Profile">
          <div *ngIf="!request.senderProfileImage" class="default-avatar">
            {{ getInitials(request.senderName) }}
          </div>
        </div>
        
        <div class="request-details">
          <p class="sender-name">{{ request.senderName }}</p>
          <p class="request-time">{{ request.timestamp | date:'MMM d, h:mm a' }}</p>
        </div>
        
        <div class="request-actions">
          <button class="btn-approve" (click)="approveRequest(request.id)" title="Accept Request">
            <i class="fas fa-check"></i>
          </button>
          <button class="btn-reject" (click)="rejectRequest(request.id)" title="Reject Request">
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>
    </div>
    
    <!-- Other Requests Section -->
    <div class="other-requests-section" *ngIf="getNonPendingRequests().length > 0">
      <div class="section-label">
        <h4>Past Requests</h4>
      </div>
      
      <div class="request-item" *ngFor="let request of getNonPendingRequests()">
        <div class="user-avatar">
          <img *ngIf="request.senderProfileImage" [src]="request.senderProfileImage" alt="Profile">
          <div *ngIf="!request.senderProfileImage" class="default-avatar">
            {{ getInitials(request.senderName) }}
          </div>
        </div>
        
        <div class="request-details">
          <p class="sender-name">{{ request.senderName }}</p>
          <p class="request-time">{{ request.timestamp | date:'MMM d, h:mm a' }}</p>
        </div>
        
        <div class="request-status">
          <span [ngClass]="getStatusClass(request.status)">
            {{ request.status }}
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
